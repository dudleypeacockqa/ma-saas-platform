# Professional Template Engine - Taxonomy & Categorization System

## Executive Summary

This document defines the comprehensive taxonomy and categorization system for 200+ M&A document templates, enabling intelligent organization, discovery, and AI-powered customization. The system ensures 95% coverage of M&A documentation needs while maintaining professional quality and legal compliance.

---

## üìä TEMPLATE TAXONOMY OVERVIEW

### Primary Categories (5 Major Divisions)

```
M&A Template Library (200+ Templates)
‚îú‚îÄ‚îÄ Pre-Transaction Documents (25 templates)
‚îú‚îÄ‚îÄ Due Diligence Frameworks (40 templates)
‚îú‚îÄ‚îÄ Legal Documentation (60 templates)
‚îú‚îÄ‚îÄ Financial Models (35 templates)
‚îî‚îÄ‚îÄ Integration Planning (40 templates)
```

---

## üìã 1. PRE-TRANSACTION DOCUMENTS (25 Templates)

### 1.1 Confidentiality & Exclusivity (10 templates)

| Template ID | Name                           | Jurisdictions | Complexity | Industry Specific |
| ----------- | ------------------------------ | ------------- | ---------- | ----------------- |
| PT001-UK    | Unilateral NDA - UK Standard   | UK            | Simple     | No                |
| PT002-UK    | Mutual NDA - UK Standard       | UK            | Simple     | No                |
| PT003-UK    | NDA with Standstill - UK       | UK            | Standard   | No                |
| PT004-US    | Delaware NDA - Standard        | US-DE         | Simple     | No                |
| PT005-US    | California NDA - Employee      | US-CA         | Standard   | Tech              |
| PT006-EU    | GDPR Compliant NDA             | EU            | Standard   | Data              |
| PT007-UK    | Exclusivity Agreement - 30 Day | UK            | Simple     | No                |
| PT008-UK    | Exclusivity Agreement - 60 Day | UK            | Standard   | No                |
| PT009-UK    | Exclusivity Agreement - 90 Day | UK            | Complex    | No                |
| PT010-INTL  | Cross-Border NDA Template      | Multi         | Complex    | No                |

### 1.2 Initial Contact & Process (8 templates)

| Template ID | Name                             | Purpose             | Target Audience  |
| ----------- | -------------------------------- | ------------------- | ---------------- |
| PT011       | Cold Outreach - Buy-Side         | Initial contact     | Target companies |
| PT012       | Cold Outreach - Sell-Side        | Teaser creation     | Potential buyers |
| PT013       | Management Presentation Template | Executive summary   | Management teams |
| PT014       | Process Letter Template          | Transaction process | All parties      |
| PT015       | Information Memorandum Outline   | Selling memo        | Buyers           |
| PT016       | Teaser Document Template         | High-level overview | Initial interest |
| PT017       | Capability Statement Template    | Advisor credentials | Prospects        |
| PT018       | Fee Proposal Template            | Service pricing     | Clients          |

### 1.3 Fact-Finding & Assessment (7 templates)

| Template ID | Name                             | Industry Focus  | Depth Level   |
| ----------- | -------------------------------- | --------------- | ------------- |
| PT019-TECH  | Technology Company Questionnaire | Software/SaaS   | Comprehensive |
| PT020-MFG   | Manufacturing Assessment         | Industrial      | Comprehensive |
| PT021-HC    | Healthcare/Pharma Questionnaire  | Healthcare      | Comprehensive |
| PT022-FS    | Financial Services Assessment    | FinTech/Banking | Comprehensive |
| PT023-RE    | Real Estate Portfolio Review     | Property        | Standard      |
| PT024-RET   | Retail/Consumer Assessment       | Retail          | Standard      |
| PT025-GEN   | General Business Questionnaire   | Any             | Basic         |

---

## üîç 2. DUE DILIGENCE FRAMEWORKS (40 Templates)

### 2.1 Master DD Playbooks (8 templates)

| Template ID | Name                       | Deal Size | Industry      | Checklist Items |
| ----------- | -------------------------- | --------- | ------------- | --------------- |
| DD001-SM    | Small Deal DD Playbook     | <¬£10M     | General       | 200+ items      |
| DD002-MD    | Mid-Market DD Playbook     | ¬£10-100M  | General       | 350+ items      |
| DD003-LG    | Large Deal DD Playbook     | >¬£100M    | General       | 500+ items      |
| DD004-DIST  | Distressed Company DD      | Any       | Distressed    | 400+ items      |
| DD005-MGMT  | Management Buyout DD       | Any       | MBO           | 300+ items      |
| DD006-INTL  | Cross-Border DD Playbook   | Any       | International | 450+ items      |
| DD007-PRIV  | Private Equity DD Template | >¬£50M     | PE-backed     | 400+ items      |
| DD008-STRAT | Strategic Acquisition DD   | Any       | Corporate     | 350+ items      |

### 2.2 Commercial Due Diligence (8 templates)

| Template ID | Name                         | Focus Area      | Analysis Depth |
| ----------- | ---------------------------- | --------------- | -------------- |
| DD009       | Market Analysis Framework    | Market position | Deep           |
| DD010       | Customer Analysis Template   | Customer base   | Deep           |
| DD011       | Competitive Landscape Review | Competition     | Medium         |
| DD012       | Product/Service Assessment   | Offerings       | Deep           |
| DD013       | Pricing Strategy Analysis    | Revenue model   | Medium         |
| DD014       | Sales Channel Evaluation     | Distribution    | Medium         |
| DD015       | Growth Strategy Assessment   | Future plans    | Deep           |
| DD016       | ESG Assessment Framework     | Sustainability  | Medium         |

### 2.3 Financial Due Diligence (8 templates)

| Template ID | Name                         | Financial Focus   | Complexity |
| ----------- | ---------------------------- | ----------------- | ---------- |
| DD017       | Quality of Earnings Analysis | Revenue/EBITDA    | High       |
| DD018       | Working Capital Analysis     | Cash conversion   | High       |
| DD019       | Debt & Cash Analysis         | Balance sheet     | Medium     |
| DD020       | Management Accounts Review   | Reporting quality | Medium     |
| DD021       | Budgets & Forecasts Review   | Planning process  | Medium     |
| DD022       | Related Party Transactions   | Conflicts         | Medium     |
| DD023       | Accounting Policies Review   | GAAP compliance   | High       |
| DD024       | Tax Position Analysis        | Tax efficiency    | High       |

### 2.4 Industry-Specific DD (8 templates)

| Template ID | Name                       | Industry         | Specialist Areas                  |
| ----------- | -------------------------- | ---------------- | --------------------------------- |
| DD025-TECH  | Technology DD Framework    | Software/Tech    | IP, development, scalability      |
| DD026-HC    | Healthcare DD Framework    | Healthcare       | Regulatory, clinical, compliance  |
| DD027-MFG   | Manufacturing DD Framework | Industrial       | Operations, supply chain, quality |
| DD028-FS    | Financial Services DD      | FinTech/Banking  | Regulatory, compliance, data      |
| DD029-RE    | Real Estate DD Framework   | Property         | Valuation, planning, leases       |
| DD030-RET   | Retail DD Framework        | Retail/Consumer  | Inventory, locations, brand       |
| DD031-EN    | Energy DD Framework        | Energy/Utilities | Assets, regulatory, environment   |
| DD032-EDU   | Education DD Framework     | Education        | Regulatory, outcomes, reputation  |

### 2.5 Legal & Compliance DD (8 templates)

| Template ID | Name                         | Legal Focus           | Jurisdiction |
| ----------- | ---------------------------- | --------------------- | ------------ |
| DD033-UK    | UK Legal DD Checklist        | Corporate law         | UK           |
| DD034-US    | US Legal DD Checklist        | State/Federal law     | US           |
| DD035-EU    | EU Legal DD Checklist        | EU regulations        | EU           |
| DD036-IP    | IP Portfolio Assessment      | Intellectual property | Multi        |
| DD037-EMP   | Employment Law Review        | HR/Employment         | Multi        |
| DD038-REG   | Regulatory Compliance Review | Industry regulations  | Multi        |
| DD039-LIT   | Litigation Assessment        | Legal disputes        | Multi        |
| DD040-DATA  | Data Protection Assessment   | Privacy/GDPR          | Multi        |

---

## ‚öñÔ∏è 3. LEGAL DOCUMENTATION (60 Templates)

### 3.1 Purchase Agreements (15 templates)

| Template ID    | Name                             | Transaction Type   | Jurisdiction | Complexity |
| -------------- | -------------------------------- | ------------------ | ------------ | ---------- |
| LD001-UK-SPA   | Share Purchase Agreement         | Share deal         | UK           | Standard   |
| LD002-UK-SPA-C | Share Purchase Agreement         | Share deal         | UK           | Complex    |
| LD003-UK-APA   | Asset Purchase Agreement         | Asset deal         | UK           | Standard   |
| LD004-UK-APA-C | Asset Purchase Agreement         | Asset deal         | UK           | Complex    |
| LD005-US-SPA   | Stock Purchase Agreement         | Stock deal         | US           | Standard   |
| LD006-US-SPA-C | Stock Purchase Agreement         | Stock deal         | US           | Complex    |
| LD007-US-APA   | Asset Purchase Agreement         | Asset deal         | US           | Standard   |
| LD008-DE-SPA   | Share Deal Agreement             | Share deal         | Germany      | Standard   |
| LD009-FR-SPA   | Share Transfer Agreement         | Share deal         | France       | Standard   |
| LD010-UK-MGMT  | Management Buyout SPA            | MBO                | UK           | Complex    |
| LD011-US-MGMT  | Management Buyout Agreement      | MBO                | US           | Complex    |
| LD012-INTL     | Cross-Border Purchase Agreement  | Multi-jurisdiction | Multi        | Complex    |
| LD013-MERGER   | Merger Agreement Template        | Merger             | UK/US        | Complex    |
| LD014-SCHEME   | Scheme of Arrangement            | Public takeover    | UK           | Complex    |
| LD015-DIST     | Distressed Acquisition Agreement | Distressed         | Multi        | Complex    |

### 3.2 Transaction Documents (15 templates)

| Template ID | Name                           | Purpose                 | Usage Stage |
| ----------- | ------------------------------ | ----------------------- | ----------- |
| LD016       | Letter of Intent - Non-Binding | Process framework       | Early stage |
| LD017       | Letter of Intent - Binding     | Commitment              | Mid stage   |
| LD018       | Heads of Terms Template        | Key deal terms          | Early stage |
| LD019       | Term Sheet - Detailed          | Comprehensive terms     | Mid stage   |
| LD020       | Exclusivity Agreement          | Process protection      | Early stage |
| LD021       | Break Fee Agreement            | Deal protection         | Late stage  |
| LD022       | Data Room Rules                | Information access      | DD stage    |
| LD023       | Process Letter                 | Transaction process     | Early stage |
| LD024       | Signing & Completion Agenda    | Deal execution          | Final stage |
| LD025       | Conditions Precedent Checklist | Completion requirements | Late stage  |
| LD026       | Waiver Agreement Template      | Condition modifications | Late stage  |
| LD027       | Amendment Agreement            | Deal modifications      | Any stage   |
| LD028       | Termination Agreement          | Deal termination        | Any stage   |
| LD029       | Disclosure Letter Template     | Warranty disclosures    | Late stage  |
| LD030       | Completion Statement Template  | Financial completion    | Final stage |

### 3.3 Ancillary Agreements (15 templates)

| Template ID | Name                             | Agreement Type        | Parties               |
| ----------- | -------------------------------- | --------------------- | --------------------- |
| LD031       | Employment Agreement - CEO       | Executive retention   | Buyer/CEO             |
| LD032       | Employment Agreement - Key Staff | Staff retention       | Buyer/Employees       |
| LD033       | Service Agreement                | Transitional services | Buyer/Seller          |
| LD034       | Supply Agreement                 | Ongoing supply        | Related parties       |
| LD035       | Non-Compete Agreement            | Seller restrictions   | Buyer/Seller          |
| LD036       | Escrow Agreement                 | Deal protection       | Buyer/Seller/Escrow   |
| LD037       | Shareholders Agreement           | Partial sale          | All shareholders      |
| LD038       | Board Resolution - Seller        | Corporate approval    | Seller board          |
| LD039       | Board Resolution - Buyer         | Corporate approval    | Buyer board           |
| LD040       | Power of Attorney                | Execution authority   | Deal parties          |
| LD041       | Deed of Adherence                | Agreement joinder     | New parties           |
| LD042       | Side Letter Agreement            | Special arrangements  | Relevant parties      |
| LD043       | Comfort Letter                   | Support confirmation  | Parent/Subsidiary     |
| LD044       | Guarantee Agreement              | Performance guarantee | Guarantor/Beneficiary |
| LD045       | Indemnity Agreement              | Risk allocation       | Deal parties          |

### 3.4 Regulatory & Compliance (15 templates)

| Template ID | Name                      | Regulatory Focus      | Jurisdiction  |
| ----------- | ------------------------- | --------------------- | ------------- |
| LD046-UK    | UK Competition Notice     | Competition clearance | UK CMA        |
| LD047-US    | HSR Filing Template       | Antitrust clearance   | US DOJ/FTC    |
| LD048-EU    | EU Merger Notification    | Competition clearance | EU Commission |
| LD049-FCA   | FCA Change of Control     | Financial services    | UK FCA        |
| LD050-SEC   | SEC Filing Template       | Public company        | US SEC        |
| LD051-GDPR  | GDPR Compliance Agreement | Data protection       | EU            |
| LD052-HMRC  | UK Tax Clearance          | Tax approval          | UK HMRC       |
| LD053-IRS   | US Tax Filing             | Tax compliance        | US IRS        |
| LD054-FDA   | FDA Notification          | Healthcare/Pharma     | US FDA        |
| LD055-MHRA  | MHRA Notification         | Healthcare/Pharma     | UK MHRA       |
| LD056-OFCOM | OFCOM Notification        | Telecoms/Media        | UK OFCOM      |
| LD057-PRA   | PRA Notification          | Banking/Insurance     | UK PRA        |
| LD058-FINRA | FINRA Filing              | Securities            | US FINRA      |
| LD059-CFTC  | CFTC Notification         | Derivatives           | US CFTC       |
| LD060-ENV   | Environmental Compliance  | Environmental         | Multi         |

---

## üí∞ 4. FINANCIAL MODELS (35 Templates)

### 4.1 Valuation Models (10 templates)

| Template ID | Name                         | Methodology            | Complexity | Industries   |
| ----------- | ---------------------------- | ---------------------- | ---------- | ------------ |
| FM001       | DCF Model - 3 Statement      | DCF Analysis           | High       | All          |
| FM002       | Comparable Companies Model   | Trading multiples      | Medium     | All          |
| FM003       | Precedent Transactions Model | Transaction multiples  | Medium     | All          |
| FM004       | LBO Model - Full             | Leveraged buyout       | High       | PE/Corporate |
| FM005       | Sum of Parts Model           | Business segments      | High       | Diversified  |
| FM006       | Asset-Based Valuation        | Asset valuation        | Medium     | Asset-heavy  |
| FM007       | Real Options Model           | Option value           | High       | Growth/Tech  |
| FM008       | REIT Valuation Model         | Property valuation     | High       | Real Estate  |
| FM009       | Bank Valuation Model         | Financial institutions | High       | Banking      |
| FM010       | Insurance Valuation Model    | Insurance companies    | High       | Insurance    |

### 4.2 Deal Models (10 templates)

| Template ID | Name                      | Purpose                  | Funding Focus     |
| ----------- | ------------------------- | ------------------------ | ----------------- |
| FM011       | Offer Stack Generator     | Multiple scenarios       | All sources       |
| FM012       | Funding Scenarios Model   | Financing options        | Debt/Equity       |
| FM013       | Returns Analysis Model    | Investor returns         | IRR/Multiple      |
| FM014       | Earnout Calculation Model | Contingent consideration | Performance       |
| FM015       | Working Capital Model     | Completion adjustments   | Working capital   |
| FM016       | Escrow Calculation Model  | Holdback amounts         | Risk allocation   |
| FM017       | Break Fee Model           | Deal protection          | Transaction costs |
| FM018       | Currency Hedging Model    | FX risk management       | Currency exposure |
| FM019       | Tax Structuring Model     | Tax optimization         | Tax efficiency    |
| FM020       | Deal Comparison Model     | Multiple opportunities   | Investment choice |

### 4.3 Integration Models (8 templates)

| Template ID | Name                          | Integration Focus      | Time Horizon |
| ----------- | ----------------------------- | ---------------------- | ------------ |
| FM021       | Synergy Analysis Model        | Cost/Revenue synergies | 5 years      |
| FM022       | Integration Cost Model        | Implementation costs   | 2 years      |
| FM023       | Cultural Integration Model    | HR/Cultural factors    | 3 years      |
| FM024       | Systems Integration Model     | IT integration costs   | 2 years      |
| FM025       | Operational Integration Model | Business processes     | 3 years      |
| FM026       | Customer Retention Model      | Revenue protection     | 5 years      |
| FM027       | Employee Retention Model      | Talent retention       | 3 years      |
| FM028       | Brand Integration Model       | Marketing integration  | 5 years      |

### 4.4 Specialized Models (7 templates)

| Template ID | Name                         | Industry/Purpose  | Specialist Focus   |
| ----------- | ---------------------------- | ----------------- | ------------------ |
| FM029-TECH  | SaaS Valuation Model         | Software/SaaS     | Recurring revenue  |
| FM030-HC    | Healthcare Valuation Model   | Healthcare/Pharma | Regulatory/R&D     |
| FM031-RE    | Real Estate Investment Model | Property/REIT     | Property valuation |
| FM032-EN    | Energy Asset Model           | Energy/Utilities  | Asset valuation    |
| FM033-MFG   | Manufacturing Model          | Industrial        | Operations/Assets  |
| FM034-RET   | Retail Chain Model           | Retail            | Store-based        |
| FM035-FS    | Financial Services Model     | Banking/FinTech   | Regulatory capital |

---

## ü§ù 5. INTEGRATION PLANNING (40 Templates)

### 5.1 Strategic Integration (10 templates)

| Template ID | Name                           | Planning Horizon | Focus Area           |
| ----------- | ------------------------------ | ---------------- | -------------------- |
| IP001       | 100-Day Integration Plan       | 100 days         | Critical actions     |
| IP002       | Integration Strategy Framework | 12 months        | Strategic direction  |
| IP003       | Synergy Realization Plan       | 36 months        | Synergy delivery     |
| IP004       | Integration Governance Model   | Ongoing          | Management structure |
| IP005       | Integration Risk Management    | Ongoing          | Risk mitigation      |
| IP006       | Cultural Integration Plan      | 24 months        | Culture blending     |
| IP007       | Communication Strategy         | 12 months        | Stakeholder comms    |
| IP008       | Change Management Plan         | 18 months        | Change facilitation  |
| IP009       | Integration Success Metrics    | Ongoing          | Performance tracking |
| IP010       | Post-Deal Review Framework     | 12 months        | Lessons learned      |

### 5.2 Operational Integration (10 templates)

| Template ID | Name                         | Department           | Integration Scope        |
| ----------- | ---------------------------- | -------------------- | ------------------------ |
| IP011       | HR Integration Playbook      | Human Resources      | Full integration         |
| IP012       | Finance Integration Plan     | Finance/Accounting   | Systems & processes      |
| IP013       | Sales Integration Strategy   | Sales/Marketing      | Team & process alignment |
| IP014       | Operations Integration Plan  | Operations           | Process optimization     |
| IP015       | Legal Integration Checklist  | Legal/Compliance     | Regulatory alignment     |
| IP016       | IT Systems Integration       | Technology           | Systems consolidation    |
| IP017       | Procurement Integration      | Procurement          | Vendor consolidation     |
| IP018       | Quality Integration Plan     | Quality/Compliance   | Standards alignment      |
| IP019       | Customer Service Integration | Customer Service     | Service continuity       |
| IP020       | R&D Integration Strategy     | Research/Development | Innovation alignment     |

### 5.3 Systems & Technology (10 templates)

| Template ID | Name                        | System Focus          | Technical Complexity |
| ----------- | --------------------------- | --------------------- | -------------------- |
| IP021       | IT Integration Master Plan  | All systems           | High                 |
| IP022       | ERP Integration Plan        | Enterprise systems    | High                 |
| IP023       | CRM Integration Strategy    | Customer management   | Medium               |
| IP024       | Data Migration Plan         | Data consolidation    | High                 |
| IP025       | Cybersecurity Integration   | Security systems      | High                 |
| IP026       | Cloud Infrastructure Plan   | Cloud migration       | Medium               |
| IP027       | Network Integration Plan    | IT infrastructure     | Medium               |
| IP028       | Application Rationalization | Software portfolio    | Medium               |
| IP029       | Digital Transformation Plan | Technology upgrade    | High                 |
| IP030       | IT Governance Framework     | Technology management | Medium               |

### 5.4 Stakeholder Management (10 templates)

| Template ID | Name                            | Stakeholder Group      | Communication Focus       |
| ----------- | ------------------------------- | ---------------------- | ------------------------- |
| IP031       | Employee Communication Plan     | All employees          | Transparency & engagement |
| IP032       | Customer Communication Strategy | Customers              | Continuity & value        |
| IP033       | Supplier Integration Plan       | Suppliers/Vendors      | Relationship management   |
| IP034       | Investor Relations Plan         | Investors/Shareholders | Value creation story      |
| IP035       | Regulatory Communication Plan   | Regulators             | Compliance & cooperation  |
| IP036       | Media Relations Strategy        | Press/Media            | Reputation management     |
| IP037       | Community Relations Plan        | Local communities      | Social responsibility     |
| IP038       | Partner Integration Strategy    | Business partners      | Relationship continuity   |
| IP039       | Board Reporting Framework       | Board of directors     | Governance & oversight    |
| IP040       | Leadership Integration Plan     | Management teams       | Leadership alignment      |

---

## üîß TECHNICAL IMPLEMENTATION

### Template Storage & Organization

```python
class TemplateRepository:
    """Hierarchical template storage and retrieval system"""

    def __init__(self):
        self.storage = CloudStorageAdapter()
        self.index = TemplateIndex()
        self.cache = TemplateCache()

    async def get_templates_by_category(self, category: TemplateCategory,
                                      filters: Dict[str, Any] = None) -> List[Template]:
        """Retrieve templates by category with optional filtering"""

        # Build query
        query = TemplateQuery(category=category)

        if filters:
            if 'jurisdiction' in filters:
                query.add_filter('jurisdiction', filters['jurisdiction'])
            if 'complexity' in filters:
                query.add_filter('complexity', filters['complexity'])
            if 'industry' in filters:
                query.add_filter('industry_specific', filters['industry'])
            if 'deal_size' in filters:
                complexity = self._determine_complexity_from_size(filters['deal_size'])
                query.add_filter('complexity', complexity)

        return await self.index.search(query)

    async def get_recommended_templates(self, deal_context: Dict[str, Any]) -> List[Template]:
        """AI-powered template recommendation based on deal context"""

        recommendations = []

        # Analyze deal context
        deal_type = deal_context.get('transaction_type', 'share_purchase')
        jurisdiction = deal_context.get('jurisdiction', 'uk')
        industry = deal_context.get('industry')
        deal_size = deal_context.get('enterprise_value', 0)

        # Determine complexity
        complexity = self._determine_complexity_from_size(deal_size)

        # Core legal documents
        if deal_type == 'share_purchase':
            recommendations.extend(await self._get_share_purchase_templates(
                jurisdiction, complexity
            ))
        elif deal_type == 'asset_purchase':
            recommendations.extend(await self._get_asset_purchase_templates(
                jurisdiction, complexity
            ))

        # Industry-specific additions
        if industry:
            industry_templates = await self._get_industry_specific_templates(
                industry, complexity
            )
            recommendations.extend(industry_templates)

        # Due diligence framework
        dd_templates = await self._get_due_diligence_templates(
            industry, complexity, deal_size
        )
        recommendations.extend(dd_templates)

        # Financial models
        financial_templates = await self._get_financial_model_templates(
            deal_type, industry, deal_size
        )
        recommendations.extend(financial_templates)

        return recommendations

class TemplateIndex:
    """Advanced template indexing and search"""

    def __init__(self):
        self.search_engine = ElasticsearchAdapter()
        self.ml_recommender = MLRecommendationEngine()

    async def search(self, query: TemplateQuery) -> List[Template]:
        """Execute template search with ML-enhanced ranking"""

        # Execute base search
        base_results = await self.search_engine.search(query)

        # Apply ML ranking
        ranked_results = await self.ml_recommender.rank_results(
            base_results, query.context
        )

        return ranked_results

    async def index_template(self, template: Template):
        """Index template with full-text search and metadata"""

        # Extract searchable content
        searchable_content = await self._extract_searchable_content(template)

        # Create search document
        search_doc = {
            'template_id': template.id,
            'name': template.name,
            'category': template.category.value,
            'subcategory': template.subcategory,
            'jurisdiction': template.jurisdiction.value,
            'complexity': template.complexity_level.value,
            'industry_specific': template.industry_specific,
            'content': searchable_content,
            'tags': template.tags,
            'last_updated': template.last_updated,
            'usage_count': template.usage_count,
            'rating': template.average_rating
        }

        await self.search_engine.index(search_doc)
```

### Template Metadata Management

```python
@dataclass
class TemplateMetadata:
    """Comprehensive template metadata"""
    template_id: str
    name: str
    description: str
    category: TemplateCategory
    subcategory: str
    jurisdiction: Jurisdiction
    complexity_level: DealComplexity
    industry_specific: Optional[str]

    # Legal information
    legal_review_date: datetime
    legal_reviewer: str
    compliance_score: float

    # Usage information
    version: str
    last_updated: datetime
    created_date: datetime
    author: str

    # Template structure
    required_fields: List[str]
    optional_fields: List[str]
    conditional_fields: List[ConditionalField]

    # AI capabilities
    ai_customization_enabled: bool
    ai_customization_level: str  # basic, standard, advanced

    # Quality metrics
    usage_count: int
    user_rating: float
    completion_rate: float
    error_rate: float

    # File information
    file_format: str  # docx, xlsx, pptx
    file_size: int
    page_count: Optional[int]

    # Dependencies
    related_templates: List[str]
    prerequisite_templates: List[str]

    # Licensing
    license_type: str
    usage_restrictions: List[str]

class TemplateVersioning:
    """Template version control and change management"""

    async def create_new_version(self, template_id: str,
                               changes: Dict[str, Any],
                               change_reason: str) -> str:
        """Create new template version with change tracking"""

        current_template = await self.get_template(template_id)

        # Create new version
        new_version = self._increment_version(current_template.version)

        # Apply changes
        updated_template = await self._apply_changes(current_template, changes)
        updated_template.version = new_version
        updated_template.last_updated = datetime.utcnow()

        # Store version
        await self.storage.store_template_version(updated_template)

        # Record change log
        await self._record_change_log(template_id, new_version, changes, change_reason)

        return new_version

    async def get_version_history(self, template_id: str) -> List[TemplateVersion]:
        """Get complete version history for template"""

        return await self.storage.get_template_versions(template_id)

    async def rollback_to_version(self, template_id: str, version: str) -> bool:
        """Rollback template to specific version"""

        target_version = await self.storage.get_template_version(template_id, version)

        if not target_version:
            return False

        # Create rollback version
        rollback_version = await self.create_new_version(
            template_id,
            target_version.content,
            f"Rollback to version {version}"
        )

        return True
```

This comprehensive taxonomy system provides the foundation for intelligent template organization, discovery, and management across all M&A documentation needs. The hierarchical structure enables both broad category browsing and precise filtering, while the metadata system supports AI-powered recommendations and quality management.

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "Create user stories for Professional Template Engine", "status": "completed", "activeForm": "Creating user stories for Professional Template Engine"}, {"content": "Design template taxonomy and categorization system", "status": "completed", "activeForm": "Designing template taxonomy and categorization system"}, {"content": "Specify AI-powered customization engine", "status": "in_progress", "activeForm": "Specifying AI-powered customization engine"}, {"content": "Define export capabilities and format preservation", "status": "pending", "activeForm": "Defining export capabilities and format preservation"}, {"content": "Create implementation plan with technical specifications", "status": "pending", "activeForm": "Creating implementation plan with technical specifications"}]
