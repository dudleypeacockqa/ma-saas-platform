# Cloudflare R2 Storage Configuration for 100daysandbeyond.com
# FREE TIER: 10GB storage + UNLIMITED bandwidth
# Perfect for bootstrapping with your existing Cloudflare setup

# ============================================================================
# STORAGE PROVIDER CONFIGURATION
# ============================================================================
STORAGE_PROVIDER=r2

# ============================================================================
# CLOUDFLARE R2 CREDENTIALS
# ============================================================================
# Get these from: https://dash.cloudflare.com/[account]/r2/api-tokens
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here
R2_ACCESS_KEY_ID=your_r2_access_key_here
R2_SECRET_ACCESS_KEY=your_r2_secret_key_here

# Bucket configuration
R2_BUCKET_NAME=ma-platform-documents

# Optional: Custom domain for public access (e.g., docs.100daysandbeyond.com)
# R2_PUBLIC_DOMAIN=docs.100daysandbeyond.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/ma_platform

# ============================================================================
# AUTHENTICATION (Clerk)
# ============================================================================
CLERK_SECRET_KEY=your_clerk_secret_key
CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-secret-key-here

# ============================================================================
# CORS SETTINGS (for frontend)
# ============================================================================
ALLOWED_ORIGINS=https://100daysandbeyond.com,https://*.100daysandbeyond.com,http://localhost:3000,http://localhost:5173

# ============================================================================
# CLOUDFLARE R2 SETUP INSTRUCTIONS
# ============================================================================
#
# 1. SIGN IN TO CLOUDFLARE
#    https://dash.cloudflare.com (use your existing account)
#
# 2. NAVIGATE TO R2 OBJECT STORAGE
#    - Click "R2" in the left sidebar
#    - Click "Create bucket"
#    - Name: ma-platform-documents
#    - Location: Automatic (Cloudflare chooses best)
#    - Click "Create bucket"
#
# 3. GENERATE API CREDENTIALS
#    - Go to R2 > Manage R2 API tokens
#    - Click "Create API token"
#    - Token name: "MA Platform Storage"
#    - Permissions: "Object Read & Write"
#    - Account: Your account
#    - Zone resources: All zones (or specific to 100daysandbeyond.com)
#    - Click "Continue to summary"
#    - Click "Create Token"
#    - COPY THE CREDENTIALS (shown only once!)
#
# 4. REPLACE PLACEHOLDERS ABOVE
#    - CLOUDFLARE_ACCOUNT_ID: From R2 overview page
#    - R2_ACCESS_KEY_ID: From token creation
#    - R2_SECRET_ACCESS_KEY: From token creation
#
# 5. TEST CONFIGURATION
#    Run: python test_r2_setup.py
#
# ============================================================================
# R2 BENEFITS FOR 100DAYSANDBEYOND.COM
# ============================================================================
#
# ✅ COST SAVINGS
#    - 10GB free storage (vs 5GB AWS S3)
#    - ZERO egress fees (vs $0.09/GB AWS S3)
#    - Saves $90/month on 1TB downloads
#
# ✅ CLOUDFLARE INTEGRATION
#    - Already using Cloudflare DNS & security
#    - Single vendor management
#    - Automatic DDoS protection
#    - 285+ global edge locations
#
# ✅ PERFORMANCE
#    - Files served from nearest edge location
#    - Automatic CDN optimization
#    - Fast uploads via Cloudflare network
#
# ✅ SECURITY
#    - Encryption at rest (AES-256)
#    - Cloudflare Zero Trust integration
#    - Access tokens with scoped permissions
#    - CORS pre-configured for your domain
#
# ============================================================================
# OPTIONAL: CUSTOM DOMAIN SETUP
# ============================================================================
#
# To serve files from docs.100daysandbeyond.com:
#
# 1. In R2 bucket settings, add custom domain
# 2. Cloudflare automatically configures DNS
# 3. Add to .env: R2_PUBLIC_DOMAIN=docs.100daysandbeyond.com
# 4. Files will be served from your domain instead of r2.dev
#
# Benefits:
# - Better branding (your domain)
# - Better SEO for public documents
# - Consistent with your site's SSL certificate
#
# ============================================================================
# SCALING INFORMATION
# ============================================================================
#
# FREE TIER LIMITS (generous):
# - Storage: 10GB/month
# - Class A operations: 10M/month (PUT, POST, LIST)
# - Class B operations: 10M/month (GET, HEAD)
# - Bandwidth: UNLIMITED (!)
#
# PAID PRICING (when you exceed free tier):
# - Storage: $0.015/GB/month (vs $0.023 AWS S3)
# - Class A ops: $4.50/million (vs $5.00 AWS S3)
# - Class B ops: $0.36/million (vs $0.40 AWS S3)
# - Bandwidth: $0.00 (vs $0.09/GB AWS S3)
#
# MIGRATION PATH:
# - Start with R2 free tier
# - Scale to R2 paid (still cheaper than S3)
# - Easy migration to other S3-compatible services if needed
#
# ============================================================================